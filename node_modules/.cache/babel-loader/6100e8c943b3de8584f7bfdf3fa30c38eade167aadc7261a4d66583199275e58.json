{"ast":null,"code":"function AcceptorStateMachine(states, state) {\n  this.currentState = state || null;\n  this.states = states || {};\n}\nAcceptorStateMachine.prototype.runTo = function runTo(finalState, done, bindObject, inputError) {\n  if (typeof finalState === 'function') {\n    inputError = bindObject;\n    bindObject = done;\n    done = finalState;\n    finalState = null;\n  }\n  var self = this;\n  var state = self.states[self.currentState];\n  state.fn.call(bindObject || self, inputError, function (err) {\n    if (err) {\n      if (state.fail) self.currentState = state.fail;else return done ? done.call(bindObject, err) : null;\n    } else {\n      if (state.accept) self.currentState = state.accept;else return done ? done.call(bindObject) : null;\n    }\n    if (self.currentState === finalState) {\n      return done ? done.call(bindObject, err) : null;\n    }\n    self.runTo(finalState, done, bindObject, err);\n  });\n};\nAcceptorStateMachine.prototype.addState = function addState(name, acceptState, failState, fn) {\n  if (typeof acceptState === 'function') {\n    fn = acceptState;\n    acceptState = null;\n    failState = null;\n  } else if (typeof failState === 'function') {\n    fn = failState;\n    failState = null;\n  }\n  if (!this.currentState) this.currentState = name;\n  this.states[name] = {\n    accept: acceptState,\n    fail: failState,\n    fn: fn\n  };\n  return this;\n};\n\n/**\n * @api private\n */\nmodule.exports = AcceptorStateMachine;","map":{"version":3,"names":["AcceptorStateMachine","states","state","currentState","prototype","runTo","finalState","done","bindObject","inputError","self","fn","call","err","fail","accept","addState","name","acceptState","failState","module","exports"],"sources":["/Users/damianmiskow/Desktop/Projects/Synchrony-Interview-Process/node_modules/aws-sdk/lib/state_machine.js"],"sourcesContent":["function AcceptorStateMachine(states, state) {\n  this.currentState = state || null;\n  this.states = states || {};\n}\n\nAcceptorStateMachine.prototype.runTo = function runTo(finalState, done, bindObject, inputError) {\n  if (typeof finalState === 'function') {\n    inputError = bindObject; bindObject = done;\n    done = finalState; finalState = null;\n  }\n\n  var self = this;\n  var state = self.states[self.currentState];\n  state.fn.call(bindObject || self, inputError, function(err) {\n    if (err) {\n      if (state.fail) self.currentState = state.fail;\n      else return done ? done.call(bindObject, err) : null;\n    } else {\n      if (state.accept) self.currentState = state.accept;\n      else return done ? done.call(bindObject) : null;\n    }\n    if (self.currentState === finalState) {\n      return done ? done.call(bindObject, err) : null;\n    }\n\n    self.runTo(finalState, done, bindObject, err);\n  });\n};\n\nAcceptorStateMachine.prototype.addState = function addState(name, acceptState, failState, fn) {\n  if (typeof acceptState === 'function') {\n    fn = acceptState; acceptState = null; failState = null;\n  } else if (typeof failState === 'function') {\n    fn = failState; failState = null;\n  }\n\n  if (!this.currentState) this.currentState = name;\n  this.states[name] = { accept: acceptState, fail: failState, fn: fn };\n  return this;\n};\n\n/**\n * @api private\n */\nmodule.exports = AcceptorStateMachine;\n"],"mappings":"AAAA,SAASA,oBAAoBA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAC3C,IAAI,CAACC,YAAY,GAAGD,KAAK,IAAI,IAAI;EACjC,IAAI,CAACD,MAAM,GAAGA,MAAM,IAAI,CAAC,CAAC;AAC5B;AAEAD,oBAAoB,CAACI,SAAS,CAACC,KAAK,GAAG,SAASA,KAAKA,CAACC,UAAU,EAAEC,IAAI,EAAEC,UAAU,EAAEC,UAAU,EAAE;EAC9F,IAAI,OAAOH,UAAU,KAAK,UAAU,EAAE;IACpCG,UAAU,GAAGD,UAAU;IAAEA,UAAU,GAAGD,IAAI;IAC1CA,IAAI,GAAGD,UAAU;IAAEA,UAAU,GAAG,IAAI;EACtC;EAEA,IAAII,IAAI,GAAG,IAAI;EACf,IAAIR,KAAK,GAAGQ,IAAI,CAACT,MAAM,CAACS,IAAI,CAACP,YAAY,CAAC;EAC1CD,KAAK,CAACS,EAAE,CAACC,IAAI,CAACJ,UAAU,IAAIE,IAAI,EAAED,UAAU,EAAE,UAASI,GAAG,EAAE;IAC1D,IAAIA,GAAG,EAAE;MACP,IAAIX,KAAK,CAACY,IAAI,EAAEJ,IAAI,CAACP,YAAY,GAAGD,KAAK,CAACY,IAAI,CAAC,KAC1C,OAAOP,IAAI,GAAGA,IAAI,CAACK,IAAI,CAACJ,UAAU,EAAEK,GAAG,CAAC,GAAG,IAAI;IACtD,CAAC,MAAM;MACL,IAAIX,KAAK,CAACa,MAAM,EAAEL,IAAI,CAACP,YAAY,GAAGD,KAAK,CAACa,MAAM,CAAC,KAC9C,OAAOR,IAAI,GAAGA,IAAI,CAACK,IAAI,CAACJ,UAAU,CAAC,GAAG,IAAI;IACjD;IACA,IAAIE,IAAI,CAACP,YAAY,KAAKG,UAAU,EAAE;MACpC,OAAOC,IAAI,GAAGA,IAAI,CAACK,IAAI,CAACJ,UAAU,EAAEK,GAAG,CAAC,GAAG,IAAI;IACjD;IAEAH,IAAI,CAACL,KAAK,CAACC,UAAU,EAAEC,IAAI,EAAEC,UAAU,EAAEK,GAAG,CAAC;EAC/C,CAAC,CAAC;AACJ,CAAC;AAEDb,oBAAoB,CAACI,SAAS,CAACY,QAAQ,GAAG,SAASA,QAAQA,CAACC,IAAI,EAAEC,WAAW,EAAEC,SAAS,EAAER,EAAE,EAAE;EAC5F,IAAI,OAAOO,WAAW,KAAK,UAAU,EAAE;IACrCP,EAAE,GAAGO,WAAW;IAAEA,WAAW,GAAG,IAAI;IAAEC,SAAS,GAAG,IAAI;EACxD,CAAC,MAAM,IAAI,OAAOA,SAAS,KAAK,UAAU,EAAE;IAC1CR,EAAE,GAAGQ,SAAS;IAAEA,SAAS,GAAG,IAAI;EAClC;EAEA,IAAI,CAAC,IAAI,CAAChB,YAAY,EAAE,IAAI,CAACA,YAAY,GAAGc,IAAI;EAChD,IAAI,CAAChB,MAAM,CAACgB,IAAI,CAAC,GAAG;IAAEF,MAAM,EAAEG,WAAW;IAAEJ,IAAI,EAAEK,SAAS;IAAER,EAAE,EAAEA;EAAG,CAAC;EACpE,OAAO,IAAI;AACb,CAAC;;AAED;AACA;AACA;AACAS,MAAM,CAACC,OAAO,GAAGrB,oBAAoB"},"metadata":{},"sourceType":"script","externalDependencies":[]}