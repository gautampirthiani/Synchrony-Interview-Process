{"ast":null,"code":"var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.rfc822(date);\n    this.request.headers['X-Amz-Date'] = datetime;\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n    this.request.headers['X-Amzn-Authorization'] = this.authorization(credentials, datetime);\n  },\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' + 'AWSAccessKeyId=' + credentials.accessKeyId + ',' + 'Algorithm=HmacSHA256,' + 'SignedHeaders=' + this.signedHeaders() + ',' + 'Signature=' + this.signature(credentials);\n  },\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3;","map":{"version":3,"names":["AWS","require","inherit","util","Signers","V3","RequestSigner","addAuthorization","credentials","date","datetime","rfc822","request","headers","sessionToken","authorization","accessKeyId","signedHeaders","signature","arrayEach","headersToSign","iterator","h","push","toLowerCase","sort","join","canonicalHeaders","parts","trim","String","each","k","match","crypto","hmac","secretAccessKey","stringToSign","method","body","sha256","module","exports"],"sources":["/Users/damianmiskow/Desktop/Projects/Synchrony-Interview-Process/node_modules/aws-sdk/lib/signers/v3.js"],"sourcesContent":["var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    var datetime = AWS.util.date.rfc822(date);\n\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    this.request.headers['X-Amzn-Authorization'] =\n      this.authorization(credentials, datetime);\n\n  },\n\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'SignedHeaders=' + this.signedHeaders() + ',' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}