{"ast":null,"code":"var util = require('../core').util;\nvar convert = require('./converter');\nvar Translator = function (options) {\n  options = options || {};\n  this.attrValue = options.attrValue;\n  this.convertEmptyValues = Boolean(options.convertEmptyValues);\n  this.wrapNumbers = Boolean(options.wrapNumbers);\n};\nTranslator.prototype.translateInput = function (value, shape) {\n  this.mode = 'input';\n  return this.translate(value, shape);\n};\nTranslator.prototype.translateOutput = function (value, shape) {\n  this.mode = 'output';\n  return this.translate(value, shape);\n};\nTranslator.prototype.translate = function (value, shape) {\n  var self = this;\n  if (!shape || value === undefined) return undefined;\n  if (shape.shape === self.attrValue) {\n    return convert[self.mode](value, {\n      convertEmptyValues: self.convertEmptyValues,\n      wrapNumbers: self.wrapNumbers\n    });\n  }\n  switch (shape.type) {\n    case 'structure':\n      return self.translateStructure(value, shape);\n    case 'map':\n      return self.translateMap(value, shape);\n    case 'list':\n      return self.translateList(value, shape);\n    default:\n      return self.translateScalar(value, shape);\n  }\n};\nTranslator.prototype.translateStructure = function (structure, shape) {\n  var self = this;\n  if (structure == null) return undefined;\n  var struct = {};\n  util.each(structure, function (name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      var result = self.translate(value, memberShape);\n      if (result !== undefined) struct[name] = result;\n    }\n  });\n  return struct;\n};\nTranslator.prototype.translateList = function (list, shape) {\n  var self = this;\n  if (list == null) return undefined;\n  var out = [];\n  util.arrayEach(list, function (value) {\n    var result = self.translate(value, shape.member);\n    if (result === undefined) out.push(null);else out.push(result);\n  });\n  return out;\n};\nTranslator.prototype.translateMap = function (map, shape) {\n  var self = this;\n  if (map == null) return undefined;\n  var out = {};\n  util.each(map, function (key, value) {\n    var result = self.translate(value, shape.value);\n    if (result === undefined) out[key] = null;else out[key] = result;\n  });\n  return out;\n};\nTranslator.prototype.translateScalar = function (value, shape) {\n  return shape.toType(value);\n};\n\n/**\n * @api private\n */\nmodule.exports = Translator;","map":{"version":3,"names":["util","require","convert","Translator","options","attrValue","convertEmptyValues","Boolean","wrapNumbers","prototype","translateInput","value","shape","mode","translate","translateOutput","self","undefined","type","translateStructure","translateMap","translateList","translateScalar","structure","struct","each","name","memberShape","members","result","list","out","arrayEach","member","push","map","key","toType","module","exports"],"sources":["/Users/damianmiskow/Desktop/Projects/Synchrony-Interview-Process/node_modules/aws-sdk/lib/dynamodb/translator.js"],"sourcesContent":["var util = require('../core').util;\nvar convert = require('./converter');\n\nvar Translator = function(options) {\n  options = options || {};\n  this.attrValue = options.attrValue;\n  this.convertEmptyValues = Boolean(options.convertEmptyValues);\n  this.wrapNumbers = Boolean(options.wrapNumbers);\n};\n\nTranslator.prototype.translateInput = function(value, shape) {\n  this.mode = 'input';\n  return this.translate(value, shape);\n};\n\nTranslator.prototype.translateOutput = function(value, shape) {\n  this.mode = 'output';\n  return this.translate(value, shape);\n};\n\nTranslator.prototype.translate = function(value, shape) {\n  var self = this;\n  if (!shape || value === undefined) return undefined;\n\n  if (shape.shape === self.attrValue) {\n    return convert[self.mode](value, {\n      convertEmptyValues: self.convertEmptyValues,\n      wrapNumbers: self.wrapNumbers,\n    });\n  }\n  switch (shape.type) {\n    case 'structure': return self.translateStructure(value, shape);\n    case 'map': return self.translateMap(value, shape);\n    case 'list': return self.translateList(value, shape);\n    default: return self.translateScalar(value, shape);\n  }\n};\n\nTranslator.prototype.translateStructure = function(structure, shape) {\n  var self = this;\n  if (structure == null) return undefined;\n\n  var struct = {};\n  util.each(structure, function(name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      var result = self.translate(value, memberShape);\n      if (result !== undefined) struct[name] = result;\n    }\n  });\n  return struct;\n};\n\nTranslator.prototype.translateList = function(list, shape) {\n  var self = this;\n  if (list == null) return undefined;\n\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = self.translate(value, shape.member);\n    if (result === undefined) out.push(null);\n    else out.push(result);\n  });\n  return out;\n};\n\nTranslator.prototype.translateMap = function(map, shape) {\n  var self = this;\n  if (map == null) return undefined;\n\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = self.translate(value, shape.value);\n    if (result === undefined) out[key] = null;\n    else out[key] = result;\n  });\n  return out;\n};\n\nTranslator.prototype.translateScalar = function(value, shape) {\n  return shape.toType(value);\n};\n\n/**\n * @api private\n */\nmodule.exports = Translator;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}